{"version":3,"file":"routing.general.min.js","mappings":"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","sources":["webpack:///./routing.js","webpack:///webpack/bootstrap","webpack:///./index.js"],"sourcesContent":["class Route {\n  constructor(path) {\n    this.path = path;\n    this.action = null;\n    this.doEnter = [];\n    this.doExit = null;\n    this.params = {};\n    Routing.routes.defined[path] = this;\n  }\n\n  to(fn) {\n    this.action = fn;\n    return this;\n  }\n\n  enter(fns) {\n    if (Array.isArray(fns)) {\n      this.doEnter.push(...fns);\n    } else {\n      this.doEnter.push(fns);\n    }\n    return this;\n  }\n\n  exit(fn) {\n    this.doExit = fn;\n    return this;\n  }\n\n  partition() {\n    const parts = [];\n    const options = [];\n    const re = /\\(([^}]+?)\\)/g;\n    let text;\n    while ((text = re.exec(this.path))) {\n      parts.push(text[1]);\n    }\n    options.push(this.path.split(\"(\")[0]);\n    for (const part of parts) {\n      options.push(options[options.length - 1] + part);\n    }\n    return options;\n  }\n\n  run() {\n    let halt = false;\n    for (const fn of this.doEnter) {\n      const result = fn.call(this);\n      if (result === false) {\n        halt = true;\n        break;\n      }\n    }\n    if (!halt && typeof this.action === \"function\") {\n      this.action(this.params);\n    }\n  }\n}\n\nclass Routing {\n  static version = \"2.1.0\";\n  static routes = {\n    current: null,\n    previous: null,\n    root: null,\n    rescue: null,\n    defined: {}\n  };\n  static plugins = {};\n  static events = {};\n  static silent = false;\n  static historyLog = [];\n\n  static history = {\n    initial: {},\n    supported: !!(window.history && window.history.pushState),\n    fallback: false,\n\n    pushState(state, title, path) {\n      if (this.supported) {\n        if (Routing.dispatch(path)) {\n          history.pushState(state, title, path);\n        }\n      } else if (this.fallback) {\n        window.location.hash = \"#\" + path;\n      }\n    },\n\n    popState(event) {\n      const initialPop = !this.initial.popped && location.href === this.initial.URL;\n      this.initial.popped = true;\n      if (initialPop) return;\n      Routing.dispatch(document.location.pathname);\n    },\n\n    listen(fallback = false) {\n      this.fallback = fallback;\n      this.initial.popped = \"state\" in window.history;\n      this.initial.URL = location.href;\n\n      if (this.supported) {\n        window.onpopstate = this.popState.bind(this);\n      } else if (this.fallback) {\n        for (const [route, obj] of Object.entries(Routing.routes.defined)) {\n          if (!route.startsWith(\"#\")) {\n            Routing.routes.defined[\"#\" + route] = { ...obj, path: \"#\" + route };\n          }\n        }\n        Routing.listen();\n      }\n    }\n  };\n\n  static getVersion() {\n    return this.version;\n  }\n\n  static map(path) {\n    return this.routes.defined[path] || new Route(path);\n  }\n\n  static root(path) {\n    this.routes.root = path;\n  }\n\n  static rescue(fn) {\n    this.routes.rescue = fn;\n  }\n\n  static usePlugin(name, fn) {\n    this.plugins[name] = fn;\n  }\n\n  static emit(event, data) {\n    (this.events[event] || []).forEach(fn => fn(data));\n  }\n\n  static on(event, fn) {\n    this.events[event] = this.events[event] || [];\n    this.events[event].push(fn);\n  }\n\n  static go(path) {\n    this.history.pushState({}, \"\", path);\n  }\n\n  static back() {\n    window.history.back();\n  }\n\n  static match(path, parameterize = false) {\n    const url = new URL(path, window.location.origin);\n    const pathname = url.pathname;\n    const searchParams = Object.fromEntries(url.searchParams.entries());\n\n    try {\n      for (const routeKey in this.routes.defined) {\n        const route = this.routes.defined[routeKey];\n        const options = route.partition();\n        for (const slice of options) {\n          let compare = pathname;\n          const params = { ...searchParams };\n\n          if (slice.includes(\":\")) {\n            const sliceParts = slice.split(\"/\");\n            const compareParts = compare.split(\"/\");\n\n            for (let i = 0; i < sliceParts.length; i++) {\n              if (sliceParts[i].startsWith(\":\") && compareParts[i]) {\n                const key = sliceParts[i].replace(\":\", \"\");\n                params[key] = compareParts[i];\n                compare = compare.replace(compareParts[i], sliceParts[i]);\n              }\n            }\n          }\n\n          if (slice === compare) {\n            if (parameterize) route.params = params;\n            return route;\n          }\n        }\n      }\n    } catch (e) {\n      const name = e?.constructor?.name;\n      if (name !== \"TypeError\") {\n        console.error(e);\n      } else {\n        console.warn(\"EXCEPCIÓN: Esta no es una ruta definida\");\n      }\n    }\n    return null;\n  }\n\n  static dispatch(path) {\n    if (this.silent) return false;\n    if (this.routes.current === path) return;\n\n    this.routes.previous = this.routes.current;\n    this.routes.current = path;\n\n    const matched = this.match(path, true);\n    const previous = this.match(this.routes.previous);\n\n    this.emit(\"route:change\", { from: this.routes.previous, to: path });\n    this.historyLog.push({ from: this.routes.previous, to: path, time: Date.now() });\n\n    if (previous?.doExit) {\n      this.emit(\"route:exit\", previous);\n      previous.doExit();\n    }\n\n    if (matched) {\n      this.emit(\"route:enter\", matched);\n      for (const plugin of Object.values(this.plugins)) {\n        const result = plugin(matched);\n        if (result === false) return false;\n      }\n      matched.run();\n      return true;\n    } else if (this.routes.rescue) {\n      this.routes.rescue();\n    }\n  }\n\n  static listen() {\n    const fn = () => this.dispatch(location.hash || location.pathname);\n\n    if (!location.hash && this.routes.root) {\n      location.hash = this.routes.root;\n    }\n\n    if (\"onhashchange\" in window && (!document.documentMode || document.documentMode >= 8)) {\n      window.onhashchange = fn;\n    } else {\n      setInterval(fn, 50);\n    }\n\n    if (location.hash || location.pathname) {\n      this.dispatch(location.hash || location.pathname);\n    }\n  }\n\n  static testMode(enable = true) {\n    this.silent = enable;\n  }\n\n  static debug() {\n    console.table({\n      version: this.version,\n      current: this.routes.current,\n      previous: this.routes.previous,\n      definedRoutes: Object.keys(this.routes.defined),\n      plugins: Object.keys(this.plugins),\n      historyLog: this.historyLog\n    });\n  }\n}\n\nwindow.routing = Routing;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","require(\"./routing.js\")"],"names":["Route","_createClass","path","_classCallCheck","this","action","doEnter","doExit","params","Routing","routes","defined","key","value","fn","fns","_this$doEnter","Array","isArray","push","apply","text","parts","options","re","exec","split","_i","_parts","length","part","_step","halt","_iterator","_createForOfIteratorHelper","s","n","done","call","err","e","f","version","root","rescue","name","plugins","event","data","events","forEach","history","pushState","window","back","parameterize","arguments","undefined","url","URL","location","origin","pathname","searchParams","Object","fromEntries","entries","routeKey","_step2","route","_iterator2","partition","slice","compare","_objectSpread","includes","sliceParts","compareParts","i","startsWith","replace","_e$constructor","constructor","console","error","warn","silent","current","previous","matched","match","emit","from","to","historyLog","time","Date","now","_i2","_Object$values","values","plugin","run","_this","dispatch","hash","document","documentMode","onhashchange","setInterval","enable","table","definedRoutes","keys","_Routing","_defineProperty","initial","supported","fallback","state","title","popState","initialPop","popped","href","listen","onpopstate","bind","_i3","_Object$entries","_Object$entries$_i","_slicedToArray","obj","routing","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","require"],"sourceRoot":""}